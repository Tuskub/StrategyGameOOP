<html>
  <head>
    <title>Minecraft strategy</title>
    <link />
    <style type="text/css">
      @import url(static/mystyle.css);
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <img src="static/img/ArcherA.png" class="logo"/>
        <a href="/" class="new-game">Новая игра</a>
      </div>
    </header>
    <div class="main">
      <div class="container">
        <div class="row">
          <div class="col-1-8-l">
            <ul class="playercol">
              {% include '_playerone.html' %}
            </ul>
          </div>
          <div class="col-6-8">
            <form style="font-family: 'Nunito', sans-serif; color: #333; font-size: 20px;" action="" method="post" novalidate>
              {{ form.hidden_tag() }}
              {{ form.unit.label }}
              {{ form.unit(size=32, autocomplete="off") }}
              {% for error in form.unit.errors %}
                <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
              {{ form.action }}
              {{ form.target.label }}
              {{ form.target(size=32, autocomplete="off") }}
              {% for error in form.target.errors %}
                <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
              {{ form.submit() }}
            </form>
            {% include '_map.html' %}
          </div>
          <div class="col-1-8-r">
            {% include '_playertwo.html' %}
          </div>
        </div>
      </div>
    </div>
    <script>
      let past = {
      background: null,
      coordinates: null
      }
      document.getElementById('unit').addEventListener('input', function(e){
      if(!(/^\d{1,2}\s\d{1,2}$/).test(this.value))
        return;
      let past_cell = document.querySelector(`div[data-coordinates="${past.coordinates}"]`)
      if(past_cell != null){
        past_cell.style.backgroundImage = `${past.background}`;
      }
      const grid = document.getElementById('grid')
      let test = document.querySelector(`div[data-coordinates="${this.value}"]`)
      past.background = test.style.backgroundImage
      test.style.backgroundImage = 'url(/static/img/textures/GrassB.png)';
      console.log(test.style.background)
      console.log(past.background)
      past.coordinates = this.value;
      });
    </script>
  </body>
</html>